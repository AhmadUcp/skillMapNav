(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{19878:(e,t,l)=>{Promise.resolve().then(l.bind(l,20840))},76046:(e,t,l)=>{"use strict";var s=l(66658);l.o(s,"usePathname")&&l.d(t,{usePathname:function(){return s.usePathname}}),l.o(s,"useRouter")&&l.d(t,{useRouter:function(){return s.useRouter}})},20840:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>v});var s=l(95155),a=l(12115),r=l(76472),n=l(35781),i=l(56275);l(57775);var o=l(88046),c=l.n(o),d=l(92264),u=l(27058),m=l(76046),h=l(82930);n.t1.register(n.PP,n.kc,n.E8,n.hE,n.m_,n.s$);let p=e=>{let{id:t,title:l,description:n,skills:i,cvskills:o,courses:d,createdAt:u,onDelete:m}=e,[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[b,w]=(0,a.useState)(null),{user:y}=(0,h.Z)(),[j,k]=(0,a.useState)(!1),S=(e,t)=>e.length<=t?e:"".concat(e.slice(0,t),"..."),v=async()=>{k(!0);try{let e="Job: ".concat(l," ,\n         Description: ").concat(n," \n,\n        output variable name should be\n        AiOutput and compare the job skills ").concat(i," and my cv skills ").concat(o," \n        and output the missing skills which would have\n        name, importance, gap and suggestion. importance  should be in number.\n        "),t=await c()(JSON.stringify(e)),s=JSON.parse(t);console.log(s);let a=s.AiOutput.map(e=>e.name),r=s.AiOutput.map(e=>e.importance);w({labels:a,datasets:[{label:"Missing Skill Importance",data:r,backgroundColor:"rgba(84, 209, 0, 0.5)"}]}),f(!0)}catch(e){console.error("Error generating report:",e)}finally{k(!1)}};return(0,s.jsxs)("div",{className:"relative border rounded-lg shadow-md p-6 bg-white",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:l}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:n}),(0,s.jsx)("h4",{className:"mt-6 text-sm font-semibold text-gray-800",children:"Skills:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:i.length>0?i.map((e,t)=>(0,s.jsx)("span",{className:"px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full shadow",children:e},t)):(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"No skills listed."})}),(0,s.jsx)("h4",{className:"mt-6 text-sm font-semibold text-gray-800",children:"Courses:"}),d.length>0?(0,s.jsx)("ul",{className:"list-none space-y-1 mt-2",children:d.map((e,t)=>(0,s.jsx)("li",{className:"flex items-center space-x-2",children:(0,s.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm font-medium",children:S(e,40)})},t))}):(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"No courses listed."}),(0,s.jsxs)("p",{className:"text-gray-500 text-sm mt-6",children:["Posted on:"," ",(null==u?void 0:u.seconds)?new Date(1e3*u.seconds).toLocaleDateString():"Unknown"]}),(0,s.jsx)("button",{onClick:v,className:"mt-4 bg-green-500 text-white px-4 py-2 text-sm font-semibold rounded shadow hover:bg-green-600",children:j?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("span",{className:"flex space-x-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-100"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"})]})}):"Generate Graph"}),x&&b&&(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:"AI-Generated Skill Gap Report"}),(0,s.jsx)("div",{style:{width:"100%",minHeight:"300px",maxWidth:"400px",margin:"0 auto"},children:(0,s.jsx)(r.yP,{data:b,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Skill Gap Analysis"}}}})})]})]})};n.t1.register(n.PP,n.kc,n.E8,n.hE,n.m_,n.s$);let g=e=>new Promise((t,l)=>{let s=new FileReader;s.onload=async()=>{try{let e=new Uint8Array(s.result),l=await i.YE(e).promise,a="",r=l.numPages;for(let e=1;e<=r;e++){let t=await l.getPage(e),s=(await t.getTextContent()).items.map(e=>"str"in e?e.str:"").join(" ");a+=s+"\n"}t(a)}catch(e){l(e)}},s.onerror=l,s.readAsArrayBuffer(e)}),x=(e,t)=>{let l=new Set(e),s=new Set(t);return{missingSkills:t.filter(e=>!l.has(e)),overlappingSkills:e.filter(e=>s.has(e))}},f=()=>{let[e,t]=(0,a.useState)(null),[l,n]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[h,f]=(0,a.useState)([]),[b,w]=(0,a.useState)(null),[y,j]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[P,C]=(0,a.useState)([]),E=e=>{},[A,D]=(0,a.useState)(!1),F=(0,m.useRouter)(),J=async()=>{if(!b||0===b.missingSkills.length){alert("No missing skills to generate courses for.");return}let e=await z(b.missingSkills);console.log(b.missingSkills),localStorage.setItem("missingSkills",JSON.stringify(b.missingSkills)),localStorage.setItem("courses",JSON.stringify(e)),F.push("/employeeForm/report")},R=(0,a.useCallback)(e=>{var l;let s=null===(l=e.target.files)||void 0===l?void 0:l[0];s&&"application/pdf"===s.type?t(s):alert("Please select a valid PDF file.")},[]),G=async e=>{try{let t=await g(e),l=await c()("Extract skills from the following CV (PDF content) and return cvSkills having cv skills:\n".concat(t)),s=JSON.parse(l).cvSkills||[];return console.log("Extracted Skills:",s),s}catch(e){throw console.error("Error extracting skills from PDF:",e),e}},O=(0,a.useCallback)(async()=>{if(!e||!l){alert("Please upload a PDF and enter a job description.");return}try{j(!0);let t=await g(e),s="\n       Extract skills from the following CV (PDF content): \n       ".concat(t,"\n\n       And skills from job description:\n       ").concat(l,"\n       if the description don't have skills mentioned in it, just create skills by yourself that u think are needed in this job.\n       you should give both separately one with cvSkills and other with descriptionSkills and all skills should be lower case\n     "),a=await c()(s),r=JSON.parse(a),n=r.cvSkills||[],i=(null==r?void 0:r.descriptionSkills)||[];V(),o(n),f(i);let d=x(n,i);w(d)}catch(e){console.error("Error analyzing skills:",e),alert("Failed to analyze skills.")}finally{j(!1)}},[e,l]),z=async e=>{try{let t=await c()("Give me courses Links of ".concat(e," variable name should be courses ")),l=JSON.parse(t);return console.log(l),l.courses||[]}catch(e){throw console.error("Error generating skills:",e),e}},I=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;D(!0);try{let l=(0,u.rJ)(d.db,"users"),s=await (0,u.GG)(l),a=[];for(let e of s.docs){let t=(0,u.rJ)(d.db,"jobs",e.id,"userJobs");(await (0,u.GG)(t)).docs.forEach(e=>{let t=e.data();a.push({id:e.id,jobTitle:t.jobTitle,jobDescription:t.jobDescription,skillsRequired:t.skillsRequired||[],recommendedCourses:t.recommendedCourses||[],createdAt:t.createdAt})})}let r=a.filter(l=>{let s=e.map(e=>e.toLowerCase().trim()),r=l.skillsRequired.map(e=>e.toLowerCase().trim()).filter(e=>s.includes(e));return console.log("Cv: ",e),console.log(a),0===t||r.length>=t});C(r)}catch(e){console.error("Error fetching jobs: ",e)}finally{D(!1)}},V=async()=>{if(!e){alert("Please upload a PDF file first.");return}D(!0);try{let t=await G(e);await I(t,1),N(!0)}catch(e){console.error("Error during job search:",e),alert("Failed to search for jobs.")}finally{D(!1)}};return(0,s.jsxs)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-4xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-extrabold text-center text-blue-600 mb-6",children:"Skill Gap Analyzer"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Upload CV (PDF):"}),(0,s.jsx)("input",{type:"file",accept:"application/pdf",onChange:R,className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"card bg-white p-6 rounded-lg shadow-lg mt-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Enter Job Title of Desire Position"}),(0,s.jsx)("textarea",{className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,value:l,onChange:e=>n(e.target.value),placeholder:"Enter the job Title or Description here..."}),(0,s.jsx)("div",{className:"mt-4 flex justify-center",children:(0,s.jsx)("button",{className:"bg-blue-500 text-white px-6 py-3 rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 transition duration-200",onClick:O,disabled:y,children:y?"Analyzing...":"Analyze Skills"})}),b&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Skill Gap Analysis"}),(()=>{if(!b)return null;let e={labels:["Missing Skills","Overlapping Skills"],datasets:[{label:"Skills",data:[b.missingSkills.length,b.overlappingSkills.length],backgroundColor:["#ff6384","#36a2eb"]}]};return(0,s.jsx)(r.yP,{data:e})})(),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:"CV Skills:"}),(0,s.jsx)("div",{className:"flex flex-wrap",children:i.map((e,t)=>(0,s.jsx)("div",{className:"bg-blue-200 p-2 m-1 rounded-full text-center",children:e},t))})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:"Job Description Skills:"}),(0,s.jsx)("div",{className:"flex flex-wrap",children:h.map((e,t)=>(0,s.jsx)("div",{className:"bg-green-200 p-2 m-1 rounded-full text-center",children:e},t))})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-lg font-semibold text-gray-800",children:"Missing Skills:"}),(0,s.jsx)("div",{className:"flex flex-wrap",children:b.missingSkills.map((e,t)=>(0,s.jsx)("div",{className:"bg-red-200 p-2 m-1 rounded-full text-center",children:e},t))})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{className:"bg-purple-500 text-white px-6 py-3 rounded-lg shadow-md hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-300 transition duration-200",onClick:J,children:"View Recommended Courses"})})]})]}),(0,s.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 mt-4",children:"Recommended Jobs"}),A?(0,s.jsx)("p",{children:"Loading jobs..."}):P.length>0?(0,s.jsx)("ul",{className:"space-y-4",children:P.map(e=>(0,s.jsx)(p,{id:e.id,title:e.jobTitle,description:e.jobDescription,skills:e.skillsRequired||[],cvskills:i||[],courses:e.recommendedCourses||[],createdAt:e.createdAt,onDelete:E},e.id))}):(0,s.jsx)("p",{children:"No matching jobs found."})]})};n.t1.register(n.PP,n.kc,n.E8,n.hE,n.m_,n.s$);let b=e=>new Promise((t,l)=>{let s=new FileReader;s.onload=async()=>{try{let e=new Uint8Array(s.result),l=await i.YE(e).promise,a="",r=l.numPages;for(let e=1;e<=r;e++){let t=await l.getPage(e),s=(await t.getTextContent()).items.map(e=>"str"in e?e.str:"").join(" ");a+=s+"\n"}t(a)}catch(e){l(e)}},s.onerror=l,s.readAsArrayBuffer(e)}),w=(e,t)=>{let l=new Set(e),s=new Set(t);return{missingSkills:t.filter(e=>!l.has(e)),overlappingSkills:e.filter(e=>s.has(e))}},y=()=>{let[e,t]=(0,a.useState)(null),[l,r]=(0,a.useState)(""),[n,i]=(0,a.useState)([]),[o,h]=(0,a.useState)([]),[g,x]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1),[j,k]=(0,a.useState)(!1),[S,v]=(0,a.useState)(!1),[N,P]=(0,a.useState)([]),[C,E]=(0,a.useState)(!1);(0,m.useRouter)();let A=(0,a.useCallback)(e=>{var l;let s=null===(l=e.target.files)||void 0===l?void 0:l[0];s&&"application/pdf"===s.type?t(s):alert("Please select a valid PDF file.")},[]),D=async e=>{try{let t=await b(e),l=await c()("Extract skills from the following CV (PDF content) and return cvSkills having cv skills:\n".concat(t)),s=JSON.parse(l).cvSkills||[];return console.log("Extracted Skills:",s),s}catch(e){throw console.error("Error extracting skills from PDF:",e),e}};(0,a.useCallback)(async()=>{if(!e||!l){alert("Please upload a PDF and enter a job description.");return}try{y(!0);let t=await b(e),s="\n        Extract skills from the following CV (PDF content): \n        ".concat(t,"\n\n        And the following job description:\n        ").concat(l,"\n\n        you should give both separately one with cvSkills and other with descriptionSkills and all skills should be lower case\n      "),a=await c()(s),r=JSON.parse(a),n=r.cvSkills||[],o=(null==r?void 0:r.descriptionSkills)||[];i(n),h(o);let d=w(n,o);x(d)}catch(e){console.error("Error analyzing skills:",e),alert("Failed to analyze skills.")}finally{y(!1)}},[e,l]);let F=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;E(!0);try{let l=(0,u.rJ)(d.db,"users"),s=await (0,u.GG)(l),a=[];for(let e of s.docs){let t=(0,u.rJ)(d.db,"jobs",e.id,"userJobs");(await (0,u.GG)(t)).docs.forEach(e=>{let t=e.data();a.push({id:e.id,jobTitle:t.jobTitle,jobDescription:t.jobDescription,skillsRequired:t.skillsRequired||[],recommendedCourses:t.recommendedCourses||[],createdAt:t.createdAt})})}let r=new Map;a.forEach(l=>{let s=e.map(e=>e.toLowerCase().trim());(l.skillsRequired||[]).map(e=>e.toLowerCase().trim()).filter(e=>s.includes(e)).length>=t&&r.set(l.id,l)}),P(Array.from(r.values()))}catch(e){console.error("Error fetching jobs: ",e)}finally{E(!1)}},J=e=>{},R=async()=>{if(!e){alert("Please upload a PDF file first.");return}E(!0);try{let t=await D(e);await F(t,1),v(!0)}catch(e){console.error("Error during job search:",e),alert("Failed to search for jobs.")}finally{E(!1)}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-4xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-extrabold text-center text-blue-600 mb-6",children:"Skill Gap Analyzer"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Upload CV (PDF):"}),(0,s.jsx)("input",{type:"file",accept:"application/pdf",onChange:A,className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsx)("button",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300 transition duration-200 flex items-center justify-center",onClick:R,disabled:C,children:C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-pulse mr-2",children:"Searching"}),(0,s.jsxs)("span",{className:"flex space-x-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-100"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"})]})]}):"Job Search Based on CV"}),(0,s.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-4 mt-4",children:"Recommended Jobs"}),C?(0,s.jsx)("p",{children:"Loading jobs..."}):N.length>0?(0,s.jsx)("ul",{className:"space-y-4",children:N.map(e=>(0,s.jsx)(p,{id:e.id,title:e.jobTitle,description:e.jobDescription,skills:e.skillsRequired||[],cvskills:n||[],courses:e.recommendedCourses||[],createdAt:e.createdAt,onDelete:J},e.id))}):(0,s.jsx)("p",{children:"No matching jobs found."})]})})},j=()=>{let[e,t]=(0,a.useState)(!0);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:[(0,s.jsx)("button",{onClick:()=>{e||t(!0)},style:{padding:"10px 20px",margin:"0 10px",cursor:"pointer",backgroundColor:e?"#007bff":"#ccc",color:e?"#fff":"#000",border:"none",borderRadius:"5px"},children:"Analyze Skills"}),(0,s.jsx)("button",{onClick:()=>{e&&t(!1)},style:{padding:"10px 20px",margin:"0 10px",cursor:"pointer",backgroundColor:e?"#ccc":"#007bff",color:e?"#000":"#fff",border:"none",borderRadius:"5px"},children:"Job Search"})]}),(0,s.jsx)("div",{children:e?(0,s.jsx)(f,{}):(0,s.jsx)(y,{})})]})};n.t1.register(n.PP,n.kc,n.E8,n.hE,n.m_,n.s$);let k=e=>new Promise((t,l)=>{let s=new FileReader;s.onload=async()=>{try{let e=new Uint8Array(s.result),l=await i.YE(e).promise,a="",r=l.numPages;for(let e=1;e<=r;e++){let t=await l.getPage(e),s=(await t.getTextContent()).items.map(e=>"str"in e?e.str:"").join(" ");a+=s+"\n"}t(a)}catch(e){l(e)}},s.onerror=l,s.readAsArrayBuffer(e)}),S=(e,t)=>{let l=new Set(e),s=new Set(t);return{missingSkills:t.filter(e=>!l.has(e)),overlappingSkills:e.filter(e=>s.has(e))}},v=()=>{let[e,t]=(0,a.useState)(null),[l,r]=(0,a.useState)(""),[n,i]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(null),[p,g]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[y,v]=(0,a.useState)([]),[N,P]=(0,a.useState)(!1);(0,m.useRouter)(),(0,a.useCallback)(l=>{var s;let a=null===(s=l.target.files)||void 0===s?void 0:s[0];a&&"application/pdf"===a.type?(t(a),C(e)):alert("Please select a valid PDF file.")},[]);let C=async e=>{try{let t=await k(e),l=await c()("Extract skills from the following CV (PDF content) and return cvSkills having cv skills:\n".concat(t)),s=JSON.parse(l).cvSkills||[];return console.log("Extracted Skills:",s),s}catch(e){throw console.error("Error extracting skills from PDF:",e),e}};return(0,a.useCallback)(async()=>{if(!e||!l){alert("Please upload a PDF or enter a job description.");return}try{g(!0);let t=await k(e),s="\n        Extract skills from the following CV (PDF content): \n        ".concat(t,"\n\n        And the following job description:\n        ").concat(l,"\n\n        you should give both separately one with cvSkills and other with descriptionSkills and all skills should be lower case\n      "),a=await c()(s),r=JSON.parse(a),n=r.cvSkills||[],o=(null==r?void 0:r.descriptionSkills)||[];i(n),d(o);let u=S(n,o);h(u)}catch(e){console.error("Error analyzing skills:",e),alert("Failed to analyze skills.")}finally{g(!1)}},[e,l]),(0,s.jsx)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-4xl",children:(0,s.jsx)("div",{style:{padding:"20px"},children:(0,s.jsx)(j,{})})})}},92264:(e,t,l)=>{"use strict";l.d(t,{db:()=>o,j2:()=>c});var s=l(49904),a=l(27058),r=l(80333),n=l(14565);let i=(0,s.Wp)({apiKey:"AIzaSyBJiKAulzrw1igg9paw_qRqYPX-orpHC3M",authDomain:"sample-firebase-ai-app-13fca.firebaseapp.com",projectId:"sample-firebase-ai-app-13fca",storageBucket:"sample-firebase-ai-app-13fca.firebasestorage.app",messagingSenderId:"776146262459",appId:"1:776146262459:web:e41cc1003826f8d4070c9e"}),o=(0,a.aU)(i);(0,r.c7)(i);let c=(0,n.xI)(i);new n.HF},88046:(e,t,l)=>{"use strict";let{GoogleGenerativeAI:s}=l(66157),a=new s("AIzaSyC1R1fZ44je-IweJr3wfDGAD7YBBaFQzQU").getGenerativeModel({model:"gemini-1.5-flash"}),r={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"application/json"};async function n(e){try{let t=a.startChat({generationConfig:r,history:[]});return(await t.sendMessage(e)).response.text()}catch(e){throw console.error("Error in Gemini API call:",e),Error("Failed to analyze skills using Gemini AI")}}e.exports=n},82930:(e,t,l)=>{"use strict";l.d(t,{Z:()=>d,default:()=>c});var s=l(95155),a=l(92264),r=l(14565),n=l(27058),i=l(12115);let o=(0,i.createContext)(null);function c(e){let{children:t}=e,[l,c]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=(0,r.hg)(a.j2,e=>{e?d(e.uid):c(null)});return()=>e()},[]);let d=async e=>{let t=(0,n.H9)(a.db,"users",e);try{var l;let e=(await (0,n.x7)(t)).data();if(!e)return;let s={...e,emailVerified:(null===(l=a.j2.currentUser)||void 0===l?void 0:l.emailVerified)||!1};c(s)}catch(e){console.error("Error fetching user data:",e)}},u=async()=>{let e=a.j2.currentUser;if(e)try{await (0,r.gA)(e),alert("Verification email sent!")}catch(e){console.error("Error sending verification email:",e),alert("Failed to send verification email.")}},m=async()=>{try{await (0,r.CI)(a.j2),c(null)}catch(e){console.error("Error logging out:",e),alert("Failed to log out.")}};return(0,s.jsx)(o.Provider,{value:{user:l,setUser:c,resendVerificationEmail:u,logout:m},children:t})}let d=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useAuthContext must be used within an AuthContextProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,697,473,84,647,714,252,157,759,441,517,358],()=>t(19878)),_N_E=e.O()}]);