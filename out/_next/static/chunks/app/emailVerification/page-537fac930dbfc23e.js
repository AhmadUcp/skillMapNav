(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[654],{80929:(e,t,r)=>{Promise.resolve().then(r.bind(r,79033))},76046:(e,t,r)=>{"use strict";var a=r(66658);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},79033:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(95155),i=r(12115),s=r(82930),n=r(76046);function l(){let{user:e,resendVerificationEmail:t}=(0,s.Z)(),[r,l]=(0,i.useState)(!1),[c,o]=(0,i.useState)(""),u=(0,n.useRouter)();return((0,i.useEffect)(()=>{(null==e?void 0:e.emailVerified)&&u.push("/")},[e,u]),e)?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96 text-center",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Verify Your Email"}),e.emailVerified?(0,a.jsx)("p",{className:"text-green-500",children:"Your email is verified! Redirecting..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"text-gray-700 mb-4",children:["A verification link has been sent to ",(0,a.jsx)("b",{children:e.email}),". Please check your email and verify your account."]}),(0,a.jsx)("button",{className:"btn btn-primary w-full mb-4",onClick:()=>{try{t(),l(!0),setTimeout(()=>l(!1),3e3)}catch(e){o("Failed to resend verification email. Please try again. "+e),setTimeout(()=>o(""),3e3)}},children:"Resend Verification Email"}),r&&(0,a.jsx)("p",{className:"text-green-500",children:"Verification email resent!"}),c&&(0,a.jsx)("p",{className:"text-red-500",children:c})]})]})}):(0,a.jsx)("div",{children:"Loading..."})}},92264:(e,t,r)=>{"use strict";r.d(t,{db:()=>c,j2:()=>o});var a=r(49904),i=r(27058),s=r(80333),n=r(14565);let l=(0,a.Wp)({apiKey:"AIzaSyBJiKAulzrw1igg9paw_qRqYPX-orpHC3M",authDomain:"sample-firebase-ai-app-13fca.firebaseapp.com",projectId:"sample-firebase-ai-app-13fca",storageBucket:"sample-firebase-ai-app-13fca.firebasestorage.app",messagingSenderId:"776146262459",appId:"1:776146262459:web:e41cc1003826f8d4070c9e"}),c=(0,i.aU)(l);(0,s.c7)(l);let o=(0,n.xI)(l);new n.HF},82930:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,default:()=>o});var a=r(95155),i=r(92264),s=r(14565),n=r(27058),l=r(12115);let c=(0,l.createContext)(null);function o(e){let{children:t}=e,[r,o]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=(0,s.hg)(i.j2,e=>{e?u(e.uid):o(null)});return()=>e()},[]);let u=async e=>{let t=(0,n.H9)(i.db,"users",e);try{var r;let e=(await (0,n.x7)(t)).data();if(!e)return;let a={...e,emailVerified:(null===(r=i.j2.currentUser)||void 0===r?void 0:r.emailVerified)||!1};o(a)}catch(e){console.error("Error fetching user data:",e)}},d=async()=>{let e=i.j2.currentUser;if(e)try{await (0,s.gA)(e),alert("Verification email sent!")}catch(e){console.error("Error sending verification email:",e),alert("Failed to send verification email.")}},f=async()=>{try{await (0,s.CI)(i.j2),o(null)}catch(e){console.error("Error logging out:",e),alert("Failed to log out.")}};return(0,a.jsx)(c.Provider,{value:{user:r,setUser:o,resendVerificationEmail:d,logout:f},children:t})}let u=()=>{let e=(0,l.useContext)(c);if(!e)throw Error("useAuthContext must be used within an AuthContextProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,697,714,252,441,517,358],()=>t(80929)),_N_E=e.O()}]);