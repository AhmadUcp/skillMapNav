(()=>{var e={};e.id=341,e.ids=[341],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},28125:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var s=t(70260),o=t(28203),i=t(25155),a=t.n(i),l=t(67292),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let c=["",{children:["CorpForm",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,45238)),"D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\CorpForm\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\CorpForm\\page.tsx"],d={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/CorpForm/page",pathname:"/CorpForm",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},26382:(e,r,t)=>{Promise.resolve().then(t.bind(t,45238))},89430:(e,r,t)=>{Promise.resolve().then(t.bind(t,37658))},37658:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(45512),o=t(58009),i=t(47846),a=t.n(i),l=t(5600),n=t(17656),c=t(79334),u=t(57312);t(13353);var d=t(8066);let p=()=>{let e=(0,c.useRouter)(),[r,t]=(0,o.useState)(""),[i,p]=(0,o.useState)(""),[m,b]=(0,o.useState)(""),[h,f]=(0,o.useState)(""),[g,x]=(0,o.useState)(!1),[v,y]=(0,o.useState)(!1),{user:w}=(0,u.Z)(),[k,j]=(0,o.useState)(!1),[C,E]=(0,o.useState)([]),[S,q]=(0,o.useState)([]),[J,N]=(0,o.useState)([]),P=async(e,r)=>{try{let t=e.split(",").map(e=>e.trim().toLowerCase()).filter(e=>e);if(0===t.length)throw Error("No skills provided.");return(await (0,d.D)(r)).filter(e=>e.skills.some(e=>t.includes(e.toLowerCase()))).map(e=>e.link)}catch(e){throw console.error("Error matching and recommending courses:",e),e}},D=async s=>{s.preventDefault();let o=w?.uid;if(!r||!i||!m){alert("Please fill in all required fields.");return}x(!0);try{let s=m.split(",").map(e=>e.trim()).filter(e=>e),a=await P(m,o),c={jobTitle:r,jobDescription:i,skillsRequired:s,recommendedCourses:a,createdAt:new Date};if(!o)throw Error("User ID is required to save job data.");let u=(0,n.rJ)(l.db,"jobs",o,"userJobs");await (0,n.gS)(u,c),t(""),p(""),b(""),f(""),e.push("/jobs")}catch(e){console.error("Error adding document:",e),alert("Failed to upload job data. Please try again.")}finally{x(!1)}},_=async()=>{if(w){x(!0);try{let e=(await (0,d.D)(w.uid)).map(e=>({id:e.id,title:e.title||"Untitled Course",description:e.description||"No description provided.",skills:e.skills||[],link:e.link||"#"}));E(e)}catch(e){console.error("Error fetching courses:",e)}finally{x(!1)}}};(0,o.useEffect)(()=>{_()},[w]);let G=async e=>{try{let r=`Based on the job title, generate a description in variable description for the job: 

Job Title: ${e}`,t=await a()(r);return JSON.parse(t).description}catch(e){throw console.error("Error generating description:",e),e}},R=async()=>{y(!0);try{let e=await G(r);p(e)}catch(e){console.error("Error auto-filling description:",e)}finally{y(!1)}},O=async(e,r)=>{try{let t=`Based on job title and description, generate 
       a list of skills required for the job:

Job Title: 
       ${e}
Job Description: ${r}

variable name 
       should be skills: `,s=await a()(t);return JSON.parse(s).skills||[]}catch(e){throw console.error("Error generating skills:",e),e}},A=async()=>{y(!0);try{let e=await O(r,i);b(e.join(", "))}catch(e){console.error("Error auto-filling skills:",e)}finally{y(!1)}};(0,o.useEffect)(()=>{j(""!==r.trim())},[r]);let F=e=>e.map(e=>({value:e.id,label:e.title,link:e.link}));return(0,o.useEffect)(()=>{C.length>0&&N(F(C))},[C]),(0,s.jsxs)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-4xl",children:[(0,s.jsx)("h1",{className:"text-3xl font-extrabold text-center text-blue-600 mb-6",children:"Job Skills and Courses Form"}),(0,s.jsxs)("form",{onSubmit:D,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Job Title:"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>t(e.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter job title",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Job Description:"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("textarea",{value:i,onChange:e=>{try{let r=JSON.parse(e.target.value);p(r.description)}catch(e){console.error("Invalid JSON input",e)}},className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:'Enter a JSON string like {"title": "Job Title", "description": "Job Description"}',required:!0}),(0,s.jsx)("button",{type:"button",onClick:R,className:`ml-4 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 ${k?"":"opacity-50 cursor-not-allowed"}`,title:"Generate Description",disabled:!k,children:v?"...":"AI Generated"})]})]}),(0,s.jsx)("div",{className:"mb-4 flex items-center",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Skills Required (comma-separated):"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"text",value:m,onChange:e=>b(e.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., JavaScript, React, Node.js",required:!0}),(0,s.jsx)("button",{type:"button",onClick:A,className:`ml-4 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 ${k?"":"opacity-50 cursor-not-allowed"}`,title:"Ask AI to fill",disabled:!k,children:v?"...":"AI Generated"})]})]})}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200",disabled:g,children:g?"Submitting...":"Submit"})})]})]})}},8066:(e,r,t)=>{"use strict";t.d(r,{D:()=>n,J4:()=>u,Rt:()=>b,UH:()=>d,bX:()=>l,zs:()=>c});var s=t(5600),o=t(17656),i=t(47846),a=t.n(i);let l=async(e,r)=>{try{let t=(0,o.rJ)(s.db,"courses",e,"userCourses");await (0,o.gS)(t,r)}catch(e){throw console.error("Error saving course data:",e),e}},n=async e=>{let r=(0,o.rJ)(s.db,"courses",e,"userCourses");return(await (0,o.GG)(r)).docs.map(e=>({id:e.id,...e.data()}))},c=async(e,r)=>{let t=(0,o.H9)(s.db,"courses",e,"userCourses",r);await (0,o.kd)(t)},u=async(e,r,t)=>{let i=(0,o.H9)(s.db,"courses",e,"userCourses",r);await (0,o.mZ)(i,t)},d=async e=>{try{let r=`so I need you to make course objects having title, description,skills and link. 
    return variable named as data having all courses from 
${e}`,t=await a()(r),s=JSON.parse(t).data||[];return console.log("Extracted Skills:",s),s}catch(e){throw console.error("Error extracting skills from PDF:",e),e}},p=async()=>{try{let e=(0,o.P)((0,o.rJ)(s.db,"users"),(0,o._M)("role","==","Company"));return(await (0,o.GG)(e)).docs.map(e=>e.id)}catch(e){return console.error("Error fetching user IDs of companies:",e),[]}};async function m(e){let r=(0,o.rJ)(s.db,"courses",e,"userCourses");return(await (0,o.GG)(r)).docs.map(e=>e.data())}async function b(e){try{let r=(await p()).map(async r=>(await m(r)).filter(r=>r.skills.some(r=>e.includes(r))));return(await Promise.all(r)).flat()}catch(e){return console.error("Error fetching relevant courses:",e),[]}}p().then(e=>{console.log("User IDs:",e)}).catch(e=>{console.error("Error fetching user IDs:",e)})},45238:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\MY PROJECTS\\\\Web Dev\\\\skill-main\\\\src\\\\app\\\\CorpForm\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\CorpForm\\page.tsx","default")},13353:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[989,515,77,889,776],()=>t(28125));module.exports=s})();