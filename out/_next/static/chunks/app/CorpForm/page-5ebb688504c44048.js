(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{6594:(e,r,t)=>{Promise.resolve().then(t.bind(t,67188))},76046:(e,r,t)=>{"use strict";var a=t(66658);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},67188:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(95155),s=t(12115),o=t(88046),l=t.n(o),n=t(92264),i=t(27058),c=t(76046),u=t(82930);t(6607);var d=t(30106);let m=()=>{let e=(0,c.useRouter)(),[r,t]=(0,s.useState)(""),[o,m]=(0,s.useState)(""),[f,p]=(0,s.useState)(""),[b,h]=(0,s.useState)(""),[g,y]=(0,s.useState)(!1),[w,x]=(0,s.useState)(!1),{user:v}=(0,u.Z)(),[j,k]=(0,s.useState)(!1),[E,N]=(0,s.useState)([]),[S,C]=(0,s.useState)([]),[J,I]=(0,s.useState)([]),D=async(e,r)=>{try{let t=e.split(",").map(e=>e.trim().toLowerCase()).filter(e=>e);if(0===t.length)throw Error("No skills provided.");return(await (0,d.D)(r)).filter(e=>e.skills.some(e=>t.includes(e.toLowerCase()))).map(e=>e.link)}catch(e){throw console.error("Error matching and recommending courses:",e),e}},A=async a=>{a.preventDefault();let s=null==v?void 0:v.uid;if(!r||!o||!f){alert("Please fill in all required fields.");return}y(!0);try{let a=f.split(",").map(e=>e.trim()).filter(e=>e),l=await D(f,s),c={jobTitle:r,jobDescription:o,skillsRequired:a,recommendedCourses:l,createdAt:new Date};if(!s)throw Error("User ID is required to save job data.");let u=(0,i.rJ)(n.db,"jobs",s,"userJobs");await (0,i.gS)(u,c),t(""),m(""),p(""),h(""),e.push("/jobs")}catch(e){console.error("Error adding document:",e),alert("Failed to upload job data. Please try again.")}finally{y(!1)}},P=async()=>{if(v){y(!0);try{let e=(await (0,d.D)(v.uid)).map(e=>({id:e.id,title:e.title||"Untitled Course",description:e.description||"No description provided.",skills:e.skills||[],link:e.link||"#"}));N(e)}catch(e){console.error("Error fetching courses:",e)}finally{y(!1)}}};(0,s.useEffect)(()=>{P()},[v]);let G=async e=>{try{let r=await l()("Based on the job title, generate a description in variable description for the job: \n\nJob Title: ".concat(e));return JSON.parse(r).description}catch(e){throw console.error("Error generating description:",e),e}},q=async()=>{x(!0);try{let e=await G(r);m(e)}catch(e){console.error("Error auto-filling description:",e)}finally{x(!1)}},R=async(e,r)=>{try{let t="Based on job title and description, generate \n       a list of skills required for the job:\n\nJob Title: \n       ".concat(e,"\nJob Description: ").concat(r,"\n\nvariable name \n       should be skills: "),a=await l()(t);return JSON.parse(a).skills||[]}catch(e){throw console.error("Error generating skills:",e),e}},F=async()=>{x(!0);try{let e=await R(r,o);p(e.join(", "))}catch(e){console.error("Error auto-filling skills:",e)}finally{x(!1)}};(0,s.useEffect)(()=>{k(""!==r.trim())},[r]);let O=e=>e.map(e=>({value:e.id,label:e.title,link:e.link}));return(0,s.useEffect)(()=>{E.length>0&&I(O(E))},[E]),(0,a.jsxs)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-4xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-extrabold text-center text-blue-600 mb-6",children:"Job Skills and Courses Form"}),(0,a.jsxs)("form",{onSubmit:A,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Job Title:"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>t(e.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter job title",required:!0})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Job Description:"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("textarea",{value:o,onChange:e=>{try{let r=JSON.parse(e.target.value);m(r.description)}catch(e){console.error("Invalid JSON input",e)}},className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Enter job description...",required:!0}),(0,a.jsx)("button",{type:"button",onClick:q,className:"ml-4 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 ".concat(j?"":"opacity-50 cursor-not-allowed"),title:"Generate Description",disabled:!j,children:w?"...":"AI Generated"})]})]}),(0,a.jsx)("div",{className:"mb-4 flex items-center",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-lg font-semibold mb-2 text-gray-700",children:"Skills Required (comma-separated):"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., JavaScript, React, Node.js",required:!0}),(0,a.jsx)("button",{type:"button",onClick:F,className:"ml-4 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-300 transition-all duration-200 ".concat(j?"":"opacity-50 cursor-not-allowed"),title:"Ask AI to fill",disabled:!j,children:w?"...":"AI Generated"})]})]})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("button",{type:"submit",className:"w-full py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200",disabled:g,children:g?"Submitting...":"Submit"})})]})]})}},30106:(e,r,t)=>{"use strict";t.d(r,{D:()=>i,J4:()=>u,Rt:()=>p,UH:()=>d,bX:()=>n,zs:()=>c});var a=t(92264),s=t(27058),o=t(88046),l=t.n(o);let n=async(e,r)=>{try{let t=(0,s.rJ)(a.db,"courses",e,"userCourses");await (0,s.gS)(t,r)}catch(e){throw console.error("Error saving course data:",e),e}},i=async e=>{let r=(0,s.rJ)(a.db,"courses",e,"userCourses");return(await (0,s.GG)(r)).docs.map(e=>({id:e.id,...e.data()}))},c=async(e,r)=>{let t=(0,s.H9)(a.db,"courses",e,"userCourses",r);await (0,s.kd)(t)},u=async(e,r,t)=>{let o=(0,s.H9)(a.db,"courses",e,"userCourses",r);await (0,s.mZ)(o,t)},d=async e=>{try{let r=await l()("so I need you to make course objects having title, description,skills and link. \n    return variable named as data having all courses from \n".concat(e)),t=JSON.parse(r).data||[];return console.log("Extracted Skills:",t),t}catch(e){throw console.error("Error extracting skills from PDF:",e),e}},m=async()=>{try{let e=(0,s.P)((0,s.rJ)(a.db,"users"),(0,s._M)("role","==","Company"));return(await (0,s.GG)(e)).docs.map(e=>e.id)}catch(e){return console.error("Error fetching user IDs of companies:",e),[]}};async function f(e){let r=(0,s.rJ)(a.db,"courses",e,"userCourses");return(await (0,s.GG)(r)).docs.map(e=>e.data())}async function p(e){try{let r=(await m()).map(async r=>(await f(r)).filter(r=>r.skills.some(r=>e.includes(r))));return(await Promise.all(r)).flat()}catch(e){return console.error("Error fetching relevant courses:",e),[]}}m().then(e=>{console.log("User IDs:",e)}).catch(e=>{console.error("Error fetching user IDs:",e)})},92264:(e,r,t)=>{"use strict";t.d(r,{db:()=>i,j2:()=>c});var a=t(49904),s=t(27058),o=t(80333),l=t(14565);let n=(0,a.Wp)({apiKey:"AIzaSyBJiKAulzrw1igg9paw_qRqYPX-orpHC3M",authDomain:"sample-firebase-ai-app-13fca.firebaseapp.com",projectId:"sample-firebase-ai-app-13fca",storageBucket:"sample-firebase-ai-app-13fca.firebasestorage.app",messagingSenderId:"776146262459",appId:"1:776146262459:web:e41cc1003826f8d4070c9e"}),i=(0,s.aU)(n);(0,o.c7)(n);let c=(0,l.xI)(n);new l.HF},88046:(e,r,t)=>{"use strict";let{GoogleGenerativeAI:a}=t(66157),s=new a("AIzaSyC1R1fZ44je-IweJr3wfDGAD7YBBaFQzQU").getGenerativeModel({model:"gemini-1.5-flash"}),o={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"application/json"};async function l(e){try{let r=s.startChat({generationConfig:o,history:[]});return(await r.sendMessage(e)).response.text()}catch(e){throw console.error("Error in Gemini API call:",e),Error("Failed to analyze skills using Gemini AI")}}e.exports=l},82930:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u,default:()=>c});var a=t(95155),s=t(92264),o=t(14565),l=t(27058),n=t(12115);let i=(0,n.createContext)(null);function c(e){let{children:r}=e,[t,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=(0,o.hg)(s.j2,e=>{e?u(e.uid):c(null)});return()=>e()},[]);let u=async e=>{let r=(0,l.H9)(s.db,"users",e);try{var t;let e=(await (0,l.x7)(r)).data();if(!e)return;let a={...e,emailVerified:(null===(t=s.j2.currentUser)||void 0===t?void 0:t.emailVerified)||!1};c(a)}catch(e){console.error("Error fetching user data:",e)}},d=async()=>{let e=s.j2.currentUser;if(e)try{await (0,o.gA)(e),alert("Verification email sent!")}catch(e){console.error("Error sending verification email:",e),alert("Failed to send verification email.")}},m=async()=>{try{await (0,o.CI)(s.j2),c(null)}catch(e){console.error("Error logging out:",e),alert("Failed to log out.")}};return(0,a.jsx)(i.Provider,{value:{user:t,setUser:c,resendVerificationEmail:d,logout:m},children:r})}let u=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useAuthContext must be used within an AuthContextProvider");return e}},6607:()=>{}},e=>{var r=r=>e(e.s=r);e.O(0,[230,992,697,714,252,157,441,517,358],()=>r(6594)),_N_E=e.O()}]);