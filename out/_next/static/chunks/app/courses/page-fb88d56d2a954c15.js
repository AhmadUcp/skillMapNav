(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{23540:(e,r,t)=>{Promise.resolve().then(t.bind(t,18875))},76046:(e,r,t)=>{"use strict";var s=t(66658);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},18875:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(95155),a=t(12115),l=t(82930),o=t(30106);let i=e=>{var r;let{courses:t,refreshCourses:i}=e,{user:n}=(0,l.Z)(),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,x]=(0,a.useState)({}),p=async e=>{if(confirm("Are you sure you want to delete this course?"))try{let r=n.uid;await (0,o.zs)(r,e),i()}catch(e){console.error("Error deleting course:",e)}},b=e=>{m(e),x(e),d(!0)},g=async()=>{if(u)try{let e=n.uid;console.log("Updated course data:",h),await (0,o.J4)(e,u.id,h),i(),d(!1)}catch(e){console.error("Error updating course:",e)}};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,s.jsxs)("div",{className:"p-4 border-2 border-gray-300 rounded-lg shadow-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-blue-700 mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Skills: ",e.skills.join(", ")]}),(0,s.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline mb-4 block",children:"Enroll Now"}),(0,s.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,s.jsx)("button",{onClick:()=>b(e),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>p(e.id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:"Delete"})]})]},e.id))}),c&&u&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-700 mb-4",children:"Edit Course"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Title"}),(0,s.jsx)("input",{type:"text",value:h.title||"",onChange:e=>x({...h,title:e.target.value}),className:"w-full p-2 border rounded"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Description"}),(0,s.jsx)("textarea",{value:h.description||"",onChange:e=>x({...h,description:e.target.value}),className:"w-full p-2 border rounded"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Skills"}),(0,s.jsx)("input",{type:"text",value:(null===(r=h.skills)||void 0===r?void 0:r.join(", "))||"",onChange:e=>x({...h,skills:e.target.value.split(",").map(e=>e.trim())}),className:"w-full p-2 border rounded"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Link"}),(0,s.jsx)("input",{type:"text",value:h.link||"",onChange:e=>x({...h,link:e.target.value}),className:"w-full p-2 border rounded"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)("button",{onClick:()=>d(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"}),(0,s.jsx)("button",{onClick:g,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Save"})]})]})})]})};var n=t(76046);let c=()=>{let e=(0,n.useRouter)(),{user:r}=(0,l.Z)(),[t,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),m=async()=>{if(r){u(!0);try{let e=(await (0,o.D)(r.uid)).map(e=>({id:e.id,title:e.title||"Untitled Course",description:e.description||"No description provided.",skills:e.skills||[],link:e.link||"#"}));console.log(e),c(e)}catch(e){console.error("Error fetching courses:",e)}finally{u(!1)}}};return(0,a.useEffect)(()=>{m()},[r]),(0,s.jsxs)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-6xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-extrabold text-blue-600",children:"My Courses"}),(0,s.jsxs)("button",{onClick:()=>e.push("/courses/uploadCourse"),className:"flex items-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 shadow-lg",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 mr-2",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add Course"]})]}),d?(0,s.jsx)("p",{className:"text-center text-gray-600",children:"Loading courses..."}):(0,s.jsx)(i,{courses:t,refreshCourses:m})]})}},30106:(e,r,t)=>{"use strict";t.d(r,{D:()=>n,J4:()=>d,Rt:()=>x,UH:()=>u,bX:()=>i,zs:()=>c});var s=t(92264),a=t(27058),l=t(88046),o=t.n(l);let i=async(e,r)=>{try{let t=(0,a.rJ)(s.db,"courses",e,"userCourses");await (0,a.gS)(t,r)}catch(e){throw console.error("Error saving course data:",e),e}},n=async e=>{let r=(0,a.rJ)(s.db,"courses",e,"userCourses");return(await (0,a.GG)(r)).docs.map(e=>({id:e.id,...e.data()}))},c=async(e,r)=>{let t=(0,a.H9)(s.db,"courses",e,"userCourses",r);await (0,a.kd)(t)},d=async(e,r,t)=>{let l=(0,a.H9)(s.db,"courses",e,"userCourses",r);await (0,a.mZ)(l,t)},u=async e=>{try{let r=await o()("so I need you to make course objects having title, description,skills and link. \n    return variable named as data having all courses from \n".concat(e)),t=JSON.parse(r).data||[];return console.log("Extracted Skills:",t),t}catch(e){throw console.error("Error extracting skills from PDF:",e),e}},m=async()=>{try{let e=(0,a.P)((0,a.rJ)(s.db,"users"),(0,a._M)("role","==","Company"));return(await (0,a.GG)(e)).docs.map(e=>e.id)}catch(e){return console.error("Error fetching user IDs of companies:",e),[]}};async function h(e){let r=(0,a.rJ)(s.db,"courses",e,"userCourses");return(await (0,a.GG)(r)).docs.map(e=>e.data())}async function x(e){try{let r=(await m()).map(async r=>(await h(r)).filter(r=>r.skills.some(r=>e.includes(r))));return(await Promise.all(r)).flat()}catch(e){return console.error("Error fetching relevant courses:",e),[]}}m().then(e=>{console.log("User IDs:",e)}).catch(e=>{console.error("Error fetching user IDs:",e)})},92264:(e,r,t)=>{"use strict";t.d(r,{db:()=>n,j2:()=>c});var s=t(49904),a=t(27058),l=t(80333),o=t(14565);let i=(0,s.Wp)({apiKey:"AIzaSyBJiKAulzrw1igg9paw_qRqYPX-orpHC3M",authDomain:"sample-firebase-ai-app-13fca.firebaseapp.com",projectId:"sample-firebase-ai-app-13fca",storageBucket:"sample-firebase-ai-app-13fca.firebasestorage.app",messagingSenderId:"776146262459",appId:"1:776146262459:web:e41cc1003826f8d4070c9e"}),n=(0,a.aU)(i);(0,l.c7)(i);let c=(0,o.xI)(i);new o.HF},88046:(e,r,t)=>{"use strict";let{GoogleGenerativeAI:s}=t(66157),a=new s("AIzaSyC1R1fZ44je-IweJr3wfDGAD7YBBaFQzQU").getGenerativeModel({model:"gemini-1.5-flash"}),l={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"application/json"};async function o(e){try{let r=a.startChat({generationConfig:l,history:[]});return(await r.sendMessage(e)).response.text()}catch(e){throw console.error("Error in Gemini API call:",e),Error("Failed to analyze skills using Gemini AI")}}e.exports=o},82930:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d,default:()=>c});var s=t(95155),a=t(92264),l=t(14565),o=t(27058),i=t(12115);let n=(0,i.createContext)(null);function c(e){let{children:r}=e,[t,c]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=(0,l.hg)(a.j2,e=>{e?d(e.uid):c(null)});return()=>e()},[]);let d=async e=>{let r=(0,o.H9)(a.db,"users",e);try{var t;let e=(await (0,o.x7)(r)).data();if(!e)return;let s={...e,emailVerified:(null===(t=a.j2.currentUser)||void 0===t?void 0:t.emailVerified)||!1};c(s)}catch(e){console.error("Error fetching user data:",e)}},u=async()=>{let e=a.j2.currentUser;if(e)try{await (0,l.gA)(e),alert("Verification email sent!")}catch(e){console.error("Error sending verification email:",e),alert("Failed to send verification email.")}},m=async()=>{try{await (0,l.CI)(a.j2),c(null)}catch(e){console.error("Error logging out:",e),alert("Failed to log out.")}};return(0,s.jsx)(n.Provider,{value:{user:t,setUser:c,resendVerificationEmail:u,logout:m},children:r})}let d=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useAuthContext must be used within an AuthContextProvider");return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[992,697,714,252,157,441,517,358],()=>r(23540)),_N_E=e.O()}]);