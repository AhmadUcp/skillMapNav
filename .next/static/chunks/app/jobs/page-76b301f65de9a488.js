(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{42248:(e,t,s)=>{Promise.resolve().then(s.bind(s,87802))},87802:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(95155),l=s(12115),r=s(92264),n=s(27058),i=s(82930),o=s(35781),d=s(76472),c=s(88046),u=s.n(c);o.t1.register(o.PP,o.kc,o.E8,o.hE,o.m_,o.s$);let x=e=>{let{id:t,title:s,description:o,skills:c,courses:x,createdAt:h,onDelete:m}=e,[p,g]=(0,l.useState)(!1),[b,f]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null),{user:w}=(0,i.Z)(),[N,v]=(0,l.useState)(!1),k=async()=>{if(null==w?void 0:w.uid)try{let e=(0,n.H9)(r.db,"jobs",w.uid,"userJobs",t);await (0,n.kd)(e),m(t),g(!1)}catch(e){console.error("Error deleting job:",e)}},C=(e,t)=>e.length<=t?e:"".concat(e.slice(0,t),"..."),S=async()=>{v(!0);try{let e="".concat(s," ,\n        ").concat(o," ,\n        ").concat(c," ,\n        output variable name should be\n        AiOutput and for each skill there should be\n        name, importance, gap and suggestion. mapping critical skills \n        for current roles,Gap should be between the skills and description. Gap and importance \n        should be in number.\n        "),t=await u()(JSON.stringify(e)),a=JSON.parse(t);console.log(a);let l=a.AiOutput.map(e=>e.name),r=a.AiOutput.map(e=>e.importance);y({labels:l,datasets:[{label:"Skill Importance",data:r,backgroundColor:"rgba(84, 209, 0, 0.5)"}]}),f(!0)}catch(e){console.error("Error generating report:",e)}finally{v(!1)}};return(0,a.jsxs)("div",{className:"relative border rounded-lg shadow-md p-6 bg-white",children:[(0,a.jsx)("button",{onClick:()=>g(!0),className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 text-xs font-semibold rounded shadow hover:bg-red-600",children:"Delete"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:s}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:o}),(0,a.jsx)("h4",{className:"mt-6 text-sm font-semibold text-gray-800",children:"Skills:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:c.length>0?c.map((e,t)=>(0,a.jsx)("span",{className:"px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full shadow",children:e},t)):(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"No skills listed."})}),(0,a.jsx)("h4",{className:"mt-6 text-sm font-semibold text-gray-800",children:"Courses:"}),x.length>0?(0,a.jsx)("ul",{className:"list-none space-y-1 mt-2",children:x.map((e,t)=>(0,a.jsx)("li",{className:"flex items-center space-x-2",children:(0,a.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm font-medium",children:C(e,40)})},t))}):(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"No courses listed."}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm mt-6",children:["Posted on:"," ",(null==h?void 0:h.seconds)?new Date(1e3*h.seconds).toLocaleDateString():"Unknown"]}),(0,a.jsxs)("button",{onClick:S,className:"mt-4 bg-green-500 text-white px-4 py-2 text-sm font-semibold rounded shadow hover:bg-green-600",children:[N?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("span",{className:"flex space-x-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-100"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-white rounded-full animate-bounce delay-200"})]})}):"Generate Graph","      "]}),b&&j&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-lg font-bold text-gray-800",children:"AI-Generated Skill Importance Report"}),(0,a.jsx)(d.yP,{data:j,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Skill Gap Analysis"}}}})]}),p&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-20",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Delete Job"}),(0,a.jsxs)("p",{className:"text-gray-700 mb-4",children:['Are you sure you want to delete "',s,'"?']}),(0,a.jsxs)("div",{className:"flex justify-end",children:[(0,a.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{onClick:k,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Delete"})]})]})})]})};var h=s(10142);let m=()=>{let[e,t]=(0,l.useState)([]),[s,o]=(0,l.useState)(!1),{user:d}=(0,i.Z)();(0,l.useEffect)(()=>{let e=async()=>{if(null==d?void 0:d.uid){o(!0);try{let e=(0,n.rJ)(r.db,"jobs",d.uid,"userJobs"),s=(await (0,n.GG)(e)).docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>{var s,a;let l=(null===(s=e.createdAt)||void 0===s?void 0:s.seconds)||0;return((null===(a=t.createdAt)||void 0===a?void 0:a.seconds)||0)-l});t(s)}catch(e){console.error("Error fetching jobs: ",e)}finally{o(!1)}}};return(null==d?void 0:d.uid)&&e(),()=>{t([])}},[null==d?void 0:d.uid]);let c=e=>{t(t=>t.filter(t=>t.id!==e))};return(0,a.jsxs)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-4xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-extrabold text-center text-blue-600 mb-6",children:"My Jobs"}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 mb-4",children:[(0,a.jsx)("button",{onClick:()=>{window.print()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Print Report"}),(0,a.jsx)("button",{onClick:()=>{let t=new h.Ay;t.setFontSize(18),t.text("My Jobs Report",14,20);let s=30;e.forEach(e=>{t.setFontSize(16),t.setTextColor(0,0,0),t.text("Job Title: "+e.jobTitle,20,s),s+=18,t.setFontSize(12);let a=e.jobDescription||"",l=t.splitTextToSize("Description: "+a,180);s+5*l.length>t.internal.pageSize.height-20&&(t.addPage(),s=20),t.text(l,20,s),s+=5*l.length+10;let r=(e.skillsRequired||[]).join(", "),n=t.splitTextToSize("Skills: "+r,180);t.text(n,20,s),s+=5*n.length+10;let i=e.recommendedCourses||[];t.text("Courses:",20,s),t.setTextColor(0,0,255),s+=10,i.forEach((e,a)=>{let l=s+10*a;t.text(e,20,l),t.link(20,l-2,180,8,{url:e})}),s+=10*i.length+10,t.setTextColor(0,0,0);let o=e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleDateString():"N/A",d=t.splitTextToSize("Created At: "+o,180);t.text(d,20,s),s+=5*d.length+10,t.setLineWidth(.5),t.setDrawColor(0,0,0),t.line(14,s,196,s),s+=20,t.internal.pageSize.height-s-20<100&&(t.addPage(),s=20)}),t.save("MyJobsReport.pdf")},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Download as PDF"})]}),s&&(0,a.jsx)("p",{className:"text-center text-lg text-gray-500",children:"Loading..."}),!s&&0===e.length&&(0,a.jsx)("p",{className:"text-center text-lg text-gray-500",children:"No jobs posted yet."}),!s&&e.length>0&&(0,a.jsx)("ul",{className:"space-y-4",children:e.map(e=>(0,a.jsx)(x,{id:e.id,title:e.jobTitle,description:e.jobDescription,skills:e.skillsRequired||[],courses:e.recommendedCourses||[],createdAt:e.createdAt,onDelete:c},e.id))})]})}},92264:(e,t,s)=>{"use strict";s.d(t,{db:()=>o,j2:()=>d});var a=s(49904),l=s(27058),r=s(80333),n=s(14565);let i=(0,a.Wp)({apiKey:"AIzaSyBJiKAulzrw1igg9paw_qRqYPX-orpHC3M",authDomain:"sample-firebase-ai-app-13fca.firebaseapp.com",projectId:"sample-firebase-ai-app-13fca",storageBucket:"sample-firebase-ai-app-13fca.firebasestorage.app",messagingSenderId:"776146262459",appId:"1:776146262459:web:e41cc1003826f8d4070c9e"}),o=(0,l.aU)(i);(0,r.c7)(i);let d=(0,n.xI)(i);new n.HF},88046:(e,t,s)=>{"use strict";let{GoogleGenerativeAI:a}=s(66157),l=new a("AIzaSyC1R1fZ44je-IweJr3wfDGAD7YBBaFQzQU").getGenerativeModel({model:"gemini-1.5-flash"}),r={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"application/json"};async function n(e){try{let t=l.startChat({generationConfig:r,history:[]});return(await t.sendMessage(e)).response.text()}catch(e){throw console.error("Error in Gemini API call:",e),Error("Failed to analyze skills using Gemini AI")}}e.exports=n},82930:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c,default:()=>d});var a=s(95155),l=s(92264),r=s(14565),n=s(27058),i=s(12115);let o=(0,i.createContext)(null);function d(e){let{children:t}=e,[s,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=(0,r.hg)(l.j2,e=>{e?c(e.uid):d(null)});return()=>e()},[]);let c=async e=>{let t=(0,n.H9)(l.db,"users",e);try{var s;let e=(await (0,n.x7)(t)).data();if(!e)return;let a={...e,emailVerified:(null===(s=l.j2.currentUser)||void 0===s?void 0:s.emailVerified)||!1};d(a)}catch(e){console.error("Error fetching user data:",e)}},u=async()=>{let e=l.j2.currentUser;if(e)try{await (0,r.gA)(e),alert("Verification email sent!")}catch(e){console.error("Error sending verification email:",e),alert("Failed to send verification email.")}},x=async()=>{try{await (0,r.CI)(l.j2),d(null)}catch(e){console.error("Error logging out:",e),alert("Failed to log out.")}};return(0,a.jsx)(o.Provider,{value:{user:s,setUser:d,resendVerificationEmail:u,logout:x},children:t})}let c=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useAuthContext must be used within an AuthContextProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,697,647,930,714,252,157,759,7,441,517,358],()=>t(42248)),_N_E=e.O()}]);