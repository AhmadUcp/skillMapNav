(()=>{var e={};e.id=295,e.ids=[295],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55511:e=>{"use strict";e.exports=require("crypto")},14985:e=>{"use strict";e.exports=require("dns")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},29697:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var t=r(70260),l=r(28203),o=r(25155),a=r.n(o),i=r(67292),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(s,n);let c=["",{children:["courses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9884)),"D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\courses\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\courses\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/courses/page",pathname:"/courses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},28700:(e,s,r)=>{Promise.resolve().then(r.bind(r,9884))},15132:(e,s,r)=>{Promise.resolve().then(r.bind(r,30862))},30862:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(45512),l=r(58009),o=r(57312),a=r(8066);let i=({courses:e,refreshCourses:s})=>{let{user:r}=(0,o.Z)(),[i,n]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),[u,p]=(0,l.useState)({}),x=async e=>{if(confirm("Are you sure you want to delete this course?"))try{let t=r.uid;await (0,a.zs)(t,e),s()}catch(e){console.error("Error deleting course:",e)}},m=e=>{d(e),p(e),n(!0)},h=async()=>{if(c)try{let e=r.uid;console.log("Updated course data:",u),await (0,a.J4)(e,c.id,u),s(),n(!1)}catch(e){console.error("Error updating course:",e)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)("div",{className:"p-4 border-2 border-gray-300 rounded-lg shadow-sm",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-blue-700 mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:e.description}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Skills: ",e.skills.join(", ")]}),(0,t.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline mb-4 block",children:"Enroll Now"}),(0,t.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,t.jsx)("button",{onClick:()=>m(e),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>x(e.id),className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",children:"Delete"})]})]},e.id))}),i&&c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-blue-700 mb-4",children:"Edit Course"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",value:u.title||"",onChange:e=>p({...u,title:e.target.value}),className:"w-full p-2 border rounded"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:u.description||"",onChange:e=>p({...u,description:e.target.value}),className:"w-full p-2 border rounded"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Skills"}),(0,t.jsx)("input",{type:"text",value:u.skills?.join(", ")||"",onChange:e=>p({...u,skills:e.target.value.split(",").map(e=>e.trim())}),className:"w-full p-2 border rounded"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-bold mb-2",children:"Link"}),(0,t.jsx)("input",{type:"text",value:u.link||"",onChange:e=>p({...u,link:e.target.value}),className:"w-full p-2 border rounded"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)("button",{onClick:()=>n(!1),className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"}),(0,t.jsx)("button",{onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Save"})]})]})})]})};var n=r(79334);let c=()=>{let e=(0,n.useRouter)(),{user:s}=(0,o.Z)(),[r,c]=(0,l.useState)([]),[d,u]=(0,l.useState)(!1),p=async()=>{if(s){u(!0);try{let e=(await (0,a.D)(s.uid)).map(e=>({id:e.id,title:e.title||"Untitled Course",description:e.description||"No description provided.",skills:e.skills||[],link:e.link||"#"}));console.log(e),c(e)}catch(e){console.error("Error fetching courses:",e)}finally{u(!1)}}};return(0,l.useEffect)(()=>{p()},[s]),(0,t.jsxs)("div",{className:"container mx-auto p-6 bg-white rounded-lg shadow-xl max-w-6xl",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-blue-600",children:"My Courses"}),(0,t.jsxs)("button",{onClick:()=>e.push("/courses/uploadCourse"),className:"flex items-center bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 shadow-lg",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 mr-2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add Course"]})]}),d?(0,t.jsx)("p",{className:"text-center text-gray-600",children:"Loading courses..."}):(0,t.jsx)(i,{courses:r,refreshCourses:p})]})}},8066:(e,s,r)=>{"use strict";r.d(s,{D:()=>n,J4:()=>d,Rt:()=>m,UH:()=>u,bX:()=>i,zs:()=>c});var t=r(5600),l=r(17656),o=r(47846),a=r.n(o);let i=async(e,s)=>{try{let r=(0,l.rJ)(t.db,"courses",e,"userCourses");await (0,l.gS)(r,s)}catch(e){throw console.error("Error saving course data:",e),e}},n=async e=>{let s=(0,l.rJ)(t.db,"courses",e,"userCourses");return(await (0,l.GG)(s)).docs.map(e=>({id:e.id,...e.data()}))},c=async(e,s)=>{let r=(0,l.H9)(t.db,"courses",e,"userCourses",s);await (0,l.kd)(r)},d=async(e,s,r)=>{let o=(0,l.H9)(t.db,"courses",e,"userCourses",s);await (0,l.mZ)(o,r)},u=async e=>{try{let s=`so I need you to make course objects having title, description,skills and link. 
    return variable named as data having all courses from 
${e}`,r=await a()(s),t=JSON.parse(r).data||[];return console.log("Extracted Skills:",t),t}catch(e){throw console.error("Error extracting skills from PDF:",e),e}},p=async()=>{try{let e=(0,l.P)((0,l.rJ)(t.db,"users"),(0,l._M)("role","==","Company"));return(await (0,l.GG)(e)).docs.map(e=>e.id)}catch(e){return console.error("Error fetching user IDs of companies:",e),[]}};async function x(e){let s=(0,l.rJ)(t.db,"courses",e,"userCourses");return(await (0,l.GG)(s)).docs.map(e=>e.data())}async function m(e){try{let s=(await p()).map(async s=>(await x(s)).filter(s=>s.skills.some(s=>e.includes(s))));return(await Promise.all(s)).flat()}catch(e){return console.error("Error fetching relevant courses:",e),[]}}p().then(e=>{console.log("User IDs:",e)}).catch(e=>{console.error("Error fetching user IDs:",e)})},9884:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\MY PROJECTS\\\\Web Dev\\\\skill-main\\\\src\\\\app\\\\courses\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\MY PROJECTS\\Web Dev\\skill-main\\src\\app\\courses\\page.tsx","default")}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[989,515,77,889,776],()=>r(29697));module.exports=t})();